var fit=function(){"use strict";function t(t){return t.toUpperCase()}function e(t){return"number"==typeof t&&!isNaN(t)}function n(){return(new Date).getTime()}function i(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e(t[i]);return n}function r(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function o(e){if(!C)for(var n,i=b(L.body),r=v,o=0,a=x.length;a>o&&(C=x[o],n=C+r,!(n in i))&&(C=C.replace(/^(\w)/,t),n=C+r,!(n in i));o++);return C+e}function a(t){var e=b(t),n=e[o(v)].replace(/[a-z()]/gi,"").split(","),i=[];n.length<6&&(i=[1,0,0,1,0,0]);for(var r=0;6>r;r++)i.push(parseFloat(n[r]));return i}function f(t,e){var n=a(e);n[0]=t.scale,n[3]=t.scale,n[4]+=t.tx,n[5]+=t.ty;var r=i(n,function(t){return t.toFixed(6)});e.style[o(d)]="0 0",e.style[o(v)]="matrix("+r.join(",")+")"}function s(t,e){var n=b(e),i=parseFloat(n.left)||0,r=parseFloat(n.top)||0;"static"===n.position&&(e.style.position="relative"),e.style.left=i+t.tx+O,e.style.top=r+t.ty+O,e.style.height=t.height+O,e.style.width=t.width+O}function l(t,e){var n=b(e),i=parseFloat(n.marginLeft)||0,r=parseFloat(n.marginTop)||0;e.style.marginLeft=i+t.tx+O,e.style.marginTop=r+t.ty+O,e.style.height=t.height+O,e.style.width=t.width+O}function h(t,e){e.height*=t.scale,e.width*=t.scale,e.x+=t.tx,e.y+=t.ty}function u(t){if(t.nodeType&&1==t.nodeType){var n=t.getBoundingClientRect();t={height:t.offsetHeight,width:t.offsetWidth,x:n.left,y:n.top}}return!e(t.x)&&e(t.left)&&(t.x=t.left),!e(t.y)&&e(t.top)&&(t.y=t.top),t}function c(){var t=n(),e=t-H;if(y>=e)clearInterval(M),M=setTimeout(c,y-e);else{for(var i=0,r=z.length;r>i;i++)z[i]();H=t}}function g(t,e,n,i,r){var o=u(t),a=u(e),s=o.width,l=o.height,c=a.width,g=a.height,p=c/s,y=g/l,d=s/l,v=c/g,x=n.cover?y:p,A=n.cover?p:y,E=d>=v?x:A,O=s*E,F=l*E,L=n.hAlign==m?.5*(O-c):n.hAlign==T?O-c:0,b=n.vAlign==m?.5*(F-g):n.vAlign==w?F-g:0;return r=r||{},r.tx=a.x-L-o.x,r.ty=a.y-b-o.y,r.x=a.x-L-o.x*E,r.y=a.y-b-o.y*E,r.height=o.height*E,r.width=o.width*E,r.scale=E,i?i(r,t):n.apply&&(i="undefined"!=typeof HTMLElement&&t instanceof HTMLElement?f:h)(r,t),r}function p(t,e,n,i){if(!t||!e)throw"You must supply a target and a container";"function"==typeof n&&(i=n,n={}),n=r(n||{},N);var o=g(t,e,n,i);return n.watch&&(z.length||(F.addEventListener?F.addEventListener("resize",c):F.attachEvent("onresize",c)),o.trigger=function(){g(t,e,n,i,o)},o.on=function(t){var e=z.indexOf(o.trigger);~e||z.push(o.trigger),t||o.trigger()},o.off=function(){var t=z.indexOf(o.trigger);~t&&z.splice(t,1)},o.on(!0)),o}var y=50,d="TransformOrigin",v="Transform",x="moz ms o webkit".split(" "),m="center",w="bottom",T="right",A="left",E="top",O="px",F=window||self,L=document,b=F.getComputedStyle,z=[],C,H,M,N={hAlign:m,vAlign:m,watch:!1,cover:!1,apply:!0};return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;++e)if(this[e]==t)return e;return-1}),r(p,{watching:z,defaults:N,cssTransform:f,cssPosition:s,cssMargin:l,CENTER:m,BOTTOM:w,RIGHT:T,LEFT:A,TOP:E})}();